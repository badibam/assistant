BUTTON_ANALYSIS.txt                                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ === ANALYSE COMPLÈTE DES BOUTONS DANS L'APPLICATION ===                                                                                                                                                                              │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ## 1. TYPES DE BOUTONS DISPONIBLES                                                                                                                                                                                                   │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### A) Bouton générique UI.Button                                                                                                                                                                                                    │ │
│ │ - Paramètres : type (ButtonType), size (Size), state (ComponentState), onClick                                                                                                                                                       │ │
│ │ - Types : PRIMARY, SECONDARY, DEFAULT                                                                                                                                                                                                │ │
│ │ - Utilisé partout dans l'application                                                                                                                                                                                                 │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### B) Boutons spécialisés UI.*Button                                                                                                                                                                                                │ │
│ │ - UI.SaveButton                                                                                                                                                                                                                      │ │
│ │ - UI.EditButton                                                                                                                                                                                                                      │ │
│ │ - UI.DeleteButton                                                                                                                                                                                                                    │ │
│ │ - UI.AddButton                                                                                                                                                                                                                       │ │
│ │ - UI.CancelButton                                                                                                                                                                                                                    │ │
│ │ - UI.ConfirmButton                                                                                                                                                                                                                   │ │
│ │ - UI.BackButton                                                                                                                                                                                                                      │ │
│ │ - UI.PlayButton                                                                                                                                                                                                                      │ │
│ │ - UI.StopButton                                                                                                                                                                                                                      │ │
│ │ - UI.PauseButton                                                                                                                                                                                                                     │ │
│ │ - UI.ConfigButton                                                                                                                                                                                                                    │ │
│ │ - UI.InfoButton                                                                                                                                                                                                                      │ │
│ │ - UI.RefreshButton                                                                                                                                                                                                                   │ │
│ │ - UI.UpButton                                                                                                                                                                                                                        │ │
│ │ - UI.DownButton                                                                                                                                                                                                                      │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ## 2. USAGE DANS L'APPLICATION                                                                                                                                                                                                       │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### CreateZoneScreen                                                                                                                                                                                                                 │ │
│ │ ```kotlin                                                                                                                                                                                                                            │ │
│ │ // NOUVEAU PATTERN UI.FormActions                                                                                                                                                                                                    │ │
│ │ UI.FormActions {                                                                                                                                                                                                                     │ │
│ │     UI.Button(type = ButtonType.PRIMARY, onClick = handleSave) {                                                                                                                                                                     │ │
│ │         UI.Text(if (isEditing) "Sauvegarder" else "Créer", TextType.LABEL)                                                                                                                                                           │ │
│ │     }                                                                                                                                                                                                                                │ │
│ │                                                                                                                                                                                                                                      │ │
│ │     UI.Button(type = ButtonType.SECONDARY, onClick = onCancel) {                                                                                                                                                                     │ │
│ │         UI.Text("Annuler", TextType.LABEL)                                                                                                                                                                                           │ │
│ │     }                                                                                                                                                                                                                                │ │
│ │                                                                                                                                                                                                                                      │ │
│ │     if (isEditing && onDelete != null) {                                                                                                                                                                                             │ │
│ │         UI.Button(type = ButtonType.SECONDARY, onClick = { showDeleteDialog = true }) {                                                                                                                                              │ │
│ │             UI.Text("Supprimer", TextType.LABEL)                                                                                                                                                                                     │ │
│ │         }                                                                                                                                                                                                                            │ │
│ │     }                                                                                                                                                                                                                                │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │ ```                                                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### TrackingConfigScreen                                                                                                                                                                                                             │ │
│ │ ```kotlin                                                                                                                                                                                                                            │ │
│ │ // MÊME PATTERN UI.FormActions                                                                                                                                                                                                       │ │
│ │ UI.FormActions {                                                                                                                                                                                                                     │ │
│ │     UI.Button(type = ButtonType.PRIMARY, onClick = handleSave) {                                                                                                                                                                     │ │
│ │         UI.Text("Valider", TextType.LABEL)                                                                                                                                                                                           │ │
│ │     }                                                                                                                                                                                                                                │ │
│ │                                                                                                                                                                                                                                      │ │
│ │     UI.Button(type = ButtonType.SECONDARY, onClick = onCancel) {                                                                                                                                                                     │ │
│ │         UI.Text("Annuler", TextType.LABEL)                                                                                                                                                                                           │ │
│ │     }                                                                                                                                                                                                                                │ │
│ │                                                                                                                                                                                                                                      │ │
│ │     if (isEditing && onDelete != null) {                                                                                                                                                                                             │ │
│ │         UI.Button(type = ButtonType.SECONDARY, onClick = onDelete) {                                                                                                                                                                 │ │
│ │             UI.Text("Supprimer", TextType.LABEL)                                                                                                                                                                                     │ │
│ │         }                                                                                                                                                                                                                            │ │
│ │     }                                                                                                                                                                                                                                │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ // Boutons spécialisés dans le contenu                                                                                                                                                                                               │ │
│ │ UI.Button(type = ButtonType.SECONDARY, onClick = { showIconSelector = true }) {                                                                                                                                                      │ │
│ │     UI.Text("Sélectionner", TextType.LABEL)                                                                                                                                                                                          │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ UI.Button(type = ButtonType.SECONDARY, onClick = { showEditItemDialog = true }) {                                                                                                                                                    │ │
│ │     UI.Text("+", TextType.LABEL)                                                                                                                                                                                                     │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ // Grille d'icônes                                                                                                                                                                                                                   │ │
│ │ UI.Button(                                                                                                                                                                                                                           │ │
│ │     type = if (iconName == icon.id) ButtonType.PRIMARY else ButtonType.SECONDARY,                                                                                                                                                    │ │
│ │     onClick = { iconName = icon.id; showIconSelector = false }                                                                                                                                                                       │ │
│ │ ) {                                                                                                                                                                                                                                  │ │
│ │     Column { SafeIcon(...); UI.Text(icon.name, TextType.SMALL) }                                                                                                                                                                     │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │ ```                                                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### ZoneScreen                                                                                                                                                                                                                       │ │
│ │ ```kotlin                                                                                                                                                                                                                            │ │
│ │ // Navigation                                                                                                                                                                                                                        │ │
│ │ UI.Button(type = ButtonType.DEFAULT, onClick = onBack) {                                                                                                                                                                             │ │
│ │     UI.Text("← Retour", TextType.LABEL)                                                                                                                                                                                              │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ // Action principale                                                                                                                                                                                                                 │ │
│ │ UI.Button(type = ButtonType.PRIMARY, onClick = { showAvailableTools = !showAvailableTools }) {                                                                                                                                       │ │
│ │     UI.Text("Ajouter un outil", TextType.LABEL)                                                                                                                                                                                      │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ // Liste des outils disponibles                                                                                                                                                                                                      │ │
│ │ ToolTypeManager.getAllToolTypes().forEach { (toolTypeId, toolType) ->                                                                                                                                                                │ │
│ │     UI.Button(type = ButtonType.PRIMARY, onClick = { showingConfigFor = toolTypeId }) {                                                                                                                                              │ │
│ │         UI.Text(toolType.getDisplayName(), TextType.LABEL)                                                                                                                                                                           │ │
│ │     }                                                                                                                                                                                                                                │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │ ```                                                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### TrackingScreen                                                                                                                                                                                                                   │ │
│ │ ```kotlin                                                                                                                                                                                                                            │ │
│ │ // Navigation (doublé - pourquoi ?)                                                                                                                                                                                                  │ │
│ │ UI.Button(type = ButtonType.SECONDARY, onClick = onNavigateBack) {                                                                                                                                                                   │ │
│ │     UI.Text("← Retour", TextType.LABEL)                                                                                                                                                                                              │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ UI.Button(type = ButtonType.SECONDARY, onClick = onNavigateBack) {                                                                                                                                                                   │ │
│ │     UI.Text("← Retour", TextType.LABEL)                                                                                                                                                                                              │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ // Configuration                                                                                                                                                                                                                     │ │
│ │ UI.Button(type = ButtonType.DEFAULT, onClick = onConfigureClick) {                                                                                                                                                                   │ │
│ │     UI.Text("⚙ Configurer", TextType.LABEL)                                                                                                                                                                                          │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │ ```                                                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### TrackingHistory                                                                                                                                                                                                                  │ │
│ │ ```kotlin                                                                                                                                                                                                                            │ │
│ │ // Refresh                                                                                                                                                                                                                           │ │
│ │ UI.Button(type = ButtonType.DEFAULT, onClick = { loadData() }) {                                                                                                                                                                     │ │
│ │     UI.Text("↻", TextType.LABEL)                                                                                                                                                                                                     │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ // Actions sur les entrées                                                                                                                                                                                                           │ │
│ │ UI.Button(type = ButtonType.DEFAULT, onClick = onEdit) {                                                                                                                                                                             │ │
│ │     UI.Text("✎", TextType.LABEL)                                                                                                                                                                                                     │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ UI.Button(type = ButtonType.SECONDARY, onClick = onDelete) {                                                                                                                                                                         │ │
│ │     UI.Text("🗑", TextType.LABEL)                                                                                                                                                                                                    │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │ ```                                                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### NumericTrackingInput                                                                                                                                                                                                             │ │
│ │ ```kotlin                                                                                                                                                                                                                            │ │
│ │ // Saisie libre                                                                                                                                                                                                                      │ │
│ │ UI.Button(type = ButtonType.SECONDARY, onClick = { showDialog = true }) {                                                                                                                                                            │ │
│ │     UI.Text("Autre...", TextType.LABEL)                                                                                                                                                                                              │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │ ```                                                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ## 3. PATTERNS IDENTIFIÉS                                                                                                                                                                                                            │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### ✅ Pattern UI.FormActions (STANDARDISÉ)                                                                                                                                                                                           │ │
│ │ - Utilisé dans CreateZoneScreen et TrackingConfigScreen                                                                                                                                                                              │ │
│ │ - Structure cohérente : PRIMARY (action principale) + SECONDARY (annuler/supprimer)                                                                                                                                                  │ │
│ │ - Textes adaptés selon contexte (isEditing)                                                                                                                                                                                          │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### ✅ Pattern Navigation                                                                                                                                                                                                             │ │
│ │ - Type : ButtonType.DEFAULT ou SECONDARY                                                                                                                                                                                             │ │
│ │ - Texte : "← Retour" ou équivalent                                                                                                                                                                                                   │ │
│ │ - Fonction : onNavigateBack, onBack                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### ✅ Pattern Actions spécialisées                                                                                                                                                                                                   │ │
│ │ - Configuration : ButtonType.DEFAULT + "⚙ Configurer"                                                                                                                                                                                │ │
│ │ - Refresh : ButtonType.DEFAULT + "↻"                                                                                                                                                                                                 │ │
│ │ - Edit : ButtonType.DEFAULT + "✎"                                                                                                                                                                                                    │ │
│ │ - Delete : ButtonType.SECONDARY + "🗑"                                                                                                                                                                                               │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### ❌ Incohérences détectées                                                                                                                                                                                                         │ │
│ │ - TrackingScreen : Navigation doublée (2x même bouton retour)                                                                                                                                                                        │ │
│ │ - Icônes mixées : texte + émojis (✎, 🗑, ↻, ⚙)                                                                                                                                                                                       │ │
│ │ - Tailles non spécifiées (utilise Size.M par défaut)                                                                                                                                                                                 │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ## 4. BOUTONS SPÉCIALISÉS NON UTILISÉS                                                                                                                                                                                               │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### Jamais utilisés dans le code actuel :                                                                                                                                                                                            │ │
│ │ - UI.SaveButton                                                                                                                                                                                                                      │ │
│ │ - UI.EditButton                                                                                                                                                                                                                      │ │
│ │ - UI.DeleteButton                                                                                                                                                                                                                    │ │
│ │ - UI.AddButton                                                                                                                                                                                                                       │ │
│ │ - UI.CancelButton                                                                                                                                                                                                                    │ │
│ │ - UI.ConfirmButton                                                                                                                                                                                                                   │ │
│ │ - UI.BackButton                                                                                                                                                                                                                      │ │
│ │ - UI.PlayButton                                                                                                                                                                                                                      │ │
│ │ - UI.StopButton                                                                                                                                                                                                                      │ │
│ │ - UI.PauseButton                                                                                                                                                                                                                     │ │
│ │ - UI.ConfigButton                                                                                                                                                                                                                    │ │
│ │ - UI.InfoButton                                                                                                                                                                                                                      │ │
│ │ - UI.RefreshButton                                                                                                                                                                                                                   │ │
│ │ - UI.UpButton                                                                                                                                                                                                                        │ │
│ │ - UI.DownButton                                                                                                                                                                                                                      │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### Observation                                                                                                                                                                                                                      │ │
│ │ Tous ces boutons sont DÉFINIS dans UI.kt mais JAMAIS UTILISÉS dans l'application.                                                                                                                                                    │ │
│ │ À la place, on utilise toujours UI.Button(type = ...) avec du texte custom.                                                                                                                                                          │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ## 5. RECOMMANDATIONS                                                                                                                                                                                                                │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### A) Nettoyer les boutons inutilisés                                                                                                                                                                                               │ │
│ │ Supprimer tous les UI.*Button spécialisés non utilisés de UI.kt et ThemeContract.kt                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### B) Standardiser les patterns                                                                                                                                                                                                     │ │
│ │ - ✅ Continuer avec UI.FormActions pour tous les formulaires                                                                                                                                                                          │ │
│ │ - ✅ Utiliser ButtonType.PRIMARY pour actions principales                                                                                                                                                                             │ │
│ │ - ✅ Utiliser ButtonType.SECONDARY pour actions secondaires/destructives                                                                                                                                                              │ │
│ │ - ✅ Utiliser ButtonType.DEFAULT pour navigation et actions neutres                                                                                                                                                                   │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### C) Corriger les incohérences                                                                                                                                                                                                     │ │
│ │ - Supprimer la navigation doublée dans TrackingScreen                                                                                                                                                                                │ │
│ │ - Standardiser les icônes (texte ou émojis mais pas mixte)                                                                                                                                                                           │ │
│ │ - Expliciter les tailles si nécessaire                                                                                                                                                                                               │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ### D) Pattern final recommandé                                                                                                                                                                                                      │ │
│ │ ```kotlin                                                                                                                                                                                                                            │ │
│ │ // Formulaires                                                                                                                                                                                                                       │ │
│ │ UI.FormActions {                                                                                                                                                                                                                     │ │
│ │     UI.Button(type = ButtonType.PRIMARY, onClick = handleSave) { ... }                                                                                                                                                               │ │
│ │     UI.Button(type = ButtonType.SECONDARY, onClick = onCancel) { ... }                                                                                                                                                               │ │
│ │     if (showDelete) UI.Button(type = ButtonType.SECONDARY, onClick = onDelete) { ... }                                                                                                                                               │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ // Navigation                                                                                                                                                                                                                        │ │
│ │ UI.Button(type = ButtonType.DEFAULT, onClick = onBack) {                                                                                                                                                                             │ │
│ │     UI.Text("← Retour", TextType.LABEL)                                                                                                                                                                                              │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ // Actions spécialisées                                                                                                                                                                                                              │ │
│ │ UI.Button(type = ButtonType.DEFAULT, onClick = onConfigure) {                                                                                                                                                                        │ │
│ │     UI.Text("Configurer", TextType.LABEL)                                                                                                                                                                                            │ │
│ │ }                                                                                                                                                                                                                                    │ │
│ │ ```                                                                                                                                                                                                                                  │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ ## 6. RÉSUMÉ STATISTIQUES                                                                                                                                                                                                            │ │
│ │                                                                                                                                                                                                                                      │ │
│ │ - **Boutons définis** : 16 types spécialisés + 1 générique                                                                                                                                                                           │ │
│ │ - **Boutons utilisés** : 1 seul (UI.Button générique)                                                                                                                                                                                │ │
│ │ - **ButtonTypes utilisés** : PRIMARY, SECONDARY, DEFAULT                                                                                                                                                                             │ │
│ │ - **Écrans avec boutons** : 6 écrans principaux                                                                                                                                                                                      │ │
│ │ - **Pattern FormActions** : 2/2 écrans de formulaire (100%)                                                                                                                                                                          │ │
│ │ - **Code mort** : 15 boutons spécialisés inutilisés
